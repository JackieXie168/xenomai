<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Xenomai API: include/rtdm/rtcan.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul>
</div>
<h1>include/rtdm/rtcan.h</h1><a href="rtcan_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00233"></a>00233 <span class="preprocessor">#ifndef _RTCAN_H</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span><span class="preprocessor">#define _RTCAN_H</span>
<a name="l00235"></a>00235 <span class="preprocessor"></span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 <span class="preprocessor">#ifdef __KERNEL__</span>
<a name="l00238"></a>00238 <span class="preprocessor"></span>
<a name="l00239"></a>00239 <span class="preprocessor">#include &lt;linux/net.h&gt;</span>
<a name="l00240"></a>00240 <span class="preprocessor">#include &lt;linux/socket.h&gt;</span>
<a name="l00241"></a>00241 <span class="preprocessor">#include &lt;linux/if.h&gt;</span>
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="preprocessor">#else  </span><span class="comment">/* !__KERNEL__ */</span>
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="preprocessor">#include &lt;net/if.h&gt;</span>
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="preprocessor">#endif </span><span class="comment">/* !__KERNEL__ */</span>
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <span class="preprocessor">#include &lt;<a class="code" href="rtdm_8h.html" title="Real-Time Driver Model for Xenomai, user API header.">rtdm/rtdm.h</a>&gt;</span>
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="preprocessor">#ifndef AF_CAN</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>
<a name="l00255"></a><a class="code" href="group__rtcan.html#g546620c7e758f003b24b7fdae4f97bd4">00255</a> <span class="preprocessor">#define AF_CAN  29</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span>
<a name="l00258"></a><a class="code" href="group__rtcan.html#geac0c3db7a1e021f17987bcc76893849">00258</a> <span class="preprocessor">#define PF_CAN  AF_CAN</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>
<a name="l00260"></a>00260 <span class="preprocessor">#endif</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>
<a name="l00266"></a><a class="code" href="group__rtcan.html#g57682d9a1e4f4d90943dbaa683582bf5">00266</a> <span class="preprocessor">#define CAN_RAW  0</span>
<a name="l00267"></a>00267 <span class="preprocessor"></span>
<a name="l00272"></a><a class="code" href="group__rtcan.html#gd981aa82a29d828882a2fb4c35c1cdd7">00272</a> <span class="preprocessor">#define SOL_CAN_RAW 103</span>
<a name="l00273"></a>00273 <span class="preprocessor"></span>
<a name="l00275"></a><a class="code" href="group__rtcan.html#gd4cb716102402e9be0b5919cd2dd6ead">00275</a> <span class="keyword">typedef</span> uint32_t <a class="code" href="group__rtcan.html#gd4cb716102402e9be0b5919cd2dd6ead" title="Type of CAN id (see CAN_xxx_MASK and CAN_xxx_FLAG).">can_id_t</a>;
<a name="l00276"></a>00276 <span class="keyword">typedef</span> uint32_t canid_t;
<a name="l00277"></a>00277 
<a name="l00279"></a><a class="code" href="group__rtcan.html#ge3b8d6d39f9bbd387bf74031aba8f4f5">00279</a> <span class="keyword">typedef</span> <a class="code" href="group__rtcan.html#gd4cb716102402e9be0b5919cd2dd6ead" title="Type of CAN id (see CAN_xxx_MASK and CAN_xxx_FLAG).">can_id_t</a> <a class="code" href="group__rtcan.html#ge3b8d6d39f9bbd387bf74031aba8f4f5" title="Type of CAN error mask.">can_err_mask_t</a>;
<a name="l00280"></a>00280 
<a name="l00287"></a><a class="code" href="group__rtcan.html#g83b943dca61d0aad5b07ec01c3317572">00287</a> <span class="preprocessor">#define CAN_EFF_MASK  0x1FFFFFFF</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span>
<a name="l00290"></a><a class="code" href="group__rtcan.html#gfe4fc3f9cab58aeeb463861289e8ce93">00290</a> <span class="preprocessor">#define CAN_SFF_MASK  0x000007FF</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
<a name="l00299"></a><a class="code" href="group__rtcan.html#g5ae55ab3741140024858bd7b8762ea42">00299</a> <span class="preprocessor">#define CAN_EFF_FLAG  0x80000000 </span>
<a name="l00300"></a><a class="code" href="group__rtcan.html#gf324d65226057755175038a15d9bbd75">00300</a> <span class="preprocessor">#define CAN_RTR_FLAG  0x40000000 </span>
<a name="l00301"></a><a class="code" href="group__rtcan.html#g24df2eae50a2cef0f7f08c73a246a012">00301</a> <span class="preprocessor">#define CAN_ERR_FLAG  0x20000000 </span>
<a name="l00309"></a><a class="code" href="group__rtcan.html#gc99a91b141113059bd5527bad8ddbf53">00309</a> <span class="preprocessor">enum CAN_PROTO {</span>
<a name="l00310"></a>00310 <span class="preprocessor"></span>
<a name="l00312"></a><a class="code" href="group__rtcan.html#ggc99a91b141113059bd5527bad8ddbf530f5142d42281775367eb973d8a0a62d3">00312</a>     <a class="code" href="group__rtcan.html#ggc99a91b141113059bd5527bad8ddbf530f5142d42281775367eb973d8a0a62d3" title="Raw protocol of PF_CAN, applicable to socket type SOCK_RAW.">CAN_PROTO_RAW</a>,
<a name="l00313"></a>00313     CAN_PROTO_MAX
<a name="l00314"></a>00314 };
<a name="l00317"></a>00317 <span class="preprocessor">#define CAN_BAUDRATE_UNKNOWN       ((uint32_t)-1)</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span><span class="preprocessor">#define CAN_BAUDRATE_UNCONFIGURED  0</span>
<a name="l00319"></a>00319 <span class="preprocessor"></span>
<a name="l00323"></a><a class="code" href="group__rtcan.html#g1c314e1f81a7211a9778da835202a741">00323</a> <span class="keyword">typedef</span> uint32_t <a class="code" href="group__rtcan.html#g1c314e1f81a7211a9778da835202a741" title="Baudrate definition in bits per second.">can_baudrate_t</a>;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 
<a name="l00329"></a><a class="code" href="group__rtcan.html#g42c4f551b57f47d4e004c02505a01f71">00329</a> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#g42c4f551b57f47d4e004c02505a01f71" title="Supported CAN bit-time types.">CAN_BITTIME_TYPE</a> {
<a name="l00331"></a><a class="code" href="group__rtcan.html#gg42c4f551b57f47d4e004c02505a01f71160d7c514df2477f8016ed1bf5a6709f">00331</a>     <a class="code" href="group__rtcan.html#gg42c4f551b57f47d4e004c02505a01f71160d7c514df2477f8016ed1bf5a6709f" title="Standard bit-time definition according to Bosch.">CAN_BITTIME_STD</a>,  
<a name="l00333"></a><a class="code" href="group__rtcan.html#gg42c4f551b57f47d4e004c02505a01f71e164a942c698440f2548bd82fea33e55">00333</a>     <a class="code" href="group__rtcan.html#gg42c4f551b57f47d4e004c02505a01f71e164a942c698440f2548bd82fea33e55" title="Hardware-specific BTR bit-time definition.">CAN_BITTIME_BTR</a>
<a name="l00334"></a>00334 };
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 
<a name="l00340"></a><a class="code" href="group__rtcan.html#g94a6fb4128854d6fec6e0882df4374f2">00340</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#g42c4f551b57f47d4e004c02505a01f71" title="Supported CAN bit-time types.">CAN_BITTIME_TYPE</a> <a class="code" href="group__rtcan.html#g94a6fb4128854d6fec6e0882df4374f2" title="See CAN_BITTIME_TYPE.">can_bittime_type_t</a>;
<a name="l00341"></a>00341 
<a name="l00345"></a><a class="code" href="structcan__bittime__std.html">00345</a> <span class="keyword">struct </span><a class="code" href="structcan__bittime__std.html" title="Standard bit-time parameters according to Bosch.">can_bittime_std</a> {
<a name="l00346"></a><a class="code" href="structcan__bittime__std.html#08d6def90babb8958ec9da1f328e2bae">00346</a>     uint32_t <a class="code" href="structcan__bittime__std.html#08d6def90babb8958ec9da1f328e2bae" title="Baud rate prescaler.">brp</a>;        
<a name="l00347"></a><a class="code" href="structcan__bittime__std.html#071c82fd3d0a66ce45fe51c8fedb156a">00347</a>     uint8_t  <a class="code" href="structcan__bittime__std.html#071c82fd3d0a66ce45fe51c8fedb156a" title="from 1 to 8">prop_seg</a>;   
<a name="l00348"></a><a class="code" href="structcan__bittime__std.html#4ea4b12dc1d6cec75599f88b3c3dde3c">00348</a>     uint8_t  <a class="code" href="structcan__bittime__std.html#4ea4b12dc1d6cec75599f88b3c3dde3c" title="from 1 to 8">phase_seg1</a>; 
<a name="l00349"></a><a class="code" href="structcan__bittime__std.html#55a0d5efff79f06626177ff46101997b">00349</a>     uint8_t  <a class="code" href="structcan__bittime__std.html#55a0d5efff79f06626177ff46101997b" title="from 1 to 8">phase_seg2</a>; 
<a name="l00350"></a><a class="code" href="structcan__bittime__std.html#0c42abf9132d5e08196a0af51b86905f">00350</a>     uint8_t  <a class="code" href="structcan__bittime__std.html#0c42abf9132d5e08196a0af51b86905f" title="from 1 to 4">sjw</a>:7;      
<a name="l00351"></a><a class="code" href="structcan__bittime__std.html#e6ab12fbeab86132bd178d63a1fd968f">00351</a>     uint8_t  <a class="code" href="structcan__bittime__std.html#e6ab12fbeab86132bd178d63a1fd968f" title="1 - enable triple sampling">sam</a>:1;      
<a name="l00352"></a>00352 };
<a name="l00353"></a>00353 
<a name="l00357"></a><a class="code" href="structcan__bittime__btr.html">00357</a> <span class="keyword">struct </span><a class="code" href="structcan__bittime__btr.html" title="Hardware-specific BTR bit-times.">can_bittime_btr</a> {
<a name="l00358"></a>00358 
<a name="l00359"></a><a class="code" href="structcan__bittime__btr.html#17d058dedc9a9339e378f2b7b352a554">00359</a>     uint8_t  <a class="code" href="structcan__bittime__btr.html#17d058dedc9a9339e378f2b7b352a554" title="Bus timing register 0.">btr0</a>;       
<a name="l00360"></a><a class="code" href="structcan__bittime__btr.html#6d93f9587762eb9d0a9a05612b108afe">00360</a>     uint8_t  <a class="code" href="structcan__bittime__btr.html#6d93f9587762eb9d0a9a05612b108afe" title="Bus timing register 1.">btr1</a>;       
<a name="l00361"></a>00361 };
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 
<a name="l00367"></a><a class="code" href="structcan__bittime.html">00367</a> <span class="keyword">struct </span><a class="code" href="structcan__bittime.html" title="Custom CAN bit-time definition.">can_bittime</a> {
<a name="l00369"></a><a class="code" href="structcan__bittime.html#7635b85b6a373e78cdbed846986e330f">00369</a>     <a class="code" href="group__rtcan.html#g94a6fb4128854d6fec6e0882df4374f2" title="See CAN_BITTIME_TYPE.">can_bittime_type_t</a> <a class="code" href="structcan__bittime.html#7635b85b6a373e78cdbed846986e330f" title="Type of bit-time definition.">type</a>;
<a name="l00370"></a>00370     <span class="keyword">union </span>{
<a name="l00372"></a><a class="code" href="structcan__bittime.html#63ff3bc997c3c48090dfcff8876dc909">00372</a>         <span class="keyword">struct </span><a class="code" href="structcan__bittime__std.html" title="Standard bit-time parameters according to Bosch.">can_bittime_std</a> <a class="code" href="structcan__bittime.html#63ff3bc997c3c48090dfcff8876dc909" title="Standard bit-time.">std</a>;
<a name="l00374"></a><a class="code" href="structcan__bittime.html#1553dfa8833111c9b6f1dc2ab4984b72">00374</a>         <span class="keyword">struct </span><a class="code" href="structcan__bittime__btr.html" title="Hardware-specific BTR bit-times.">can_bittime_btr</a> <a class="code" href="structcan__bittime.html#1553dfa8833111c9b6f1dc2ab4984b72" title="Hardware-spcific BTR bit-time.">btr</a>;
<a name="l00375"></a>00375     };
<a name="l00376"></a>00376 };
<a name="l00377"></a>00377 
<a name="l00382"></a><a class="code" href="group__rtcan.html#gc0d6cdda2cf4abb51116b86bc99acf99">00382</a> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#gc0d6cdda2cf4abb51116b86bc99acf99">CAN_MODE</a> {
<a name="l00383"></a>00383 
<a name="l00385"></a><a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf9904f549e87bf7ddf764c563062dd76790">00385</a>     <a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf9904f549e87bf7ddf764c563062dd76790" title="Set controller in Stop mode (no reception / transmission possible).">CAN_MODE_STOP</a> = 0,
<a name="l00386"></a>00386 
<a name="l00390"></a><a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf99f9c617b6b198770017f6e7198bfb50b6">00390</a>     <a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf99f9c617b6b198770017f6e7198bfb50b6">CAN_MODE_START</a>,
<a name="l00391"></a>00391 
<a name="l00398"></a><a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf9957866c198e12c54747aca0786dc33e3e">00398</a>     <a class="code" href="group__rtcan.html#ggc0d6cdda2cf4abb51116b86bc99acf9957866c198e12c54747aca0786dc33e3e">CAN_MODE_SLEEP</a>
<a name="l00399"></a>00399 };
<a name="l00403"></a><a class="code" href="group__rtcan.html#g47a129d7188a7cd7b68fbf60ebbfd9e8">00403</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#gc0d6cdda2cf4abb51116b86bc99acf99">CAN_MODE</a> <a class="code" href="group__rtcan.html#g47a129d7188a7cd7b68fbf60ebbfd9e8" title="See CAN_MODE.">can_mode_t</a>;
<a name="l00404"></a>00404 
<a name="l00410"></a><a class="code" href="group__rtcan.html#ge4ba49824d17e7d06300cb8b4a4bff45">00410</a> <span class="preprocessor">#define CAN_CTRLMODE_LISTENONLY 0x1</span>
<a name="l00411"></a>00411 <span class="preprocessor"></span>
<a name="l00412"></a><a class="code" href="group__rtcan.html#g19ec0cc4379e80c32cbd333cf7c145e9">00412</a> <span class="preprocessor">#define CAN_CTRLMODE_LOOPBACK   0x2</span>
<a name="l00413"></a>00413 <span class="preprocessor"></span>
<a name="l00416"></a><a class="code" href="group__rtcan.html#ga1db20ee5ae4803157e38db4b6c6150b">00416</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="group__rtcan.html#ga1db20ee5ae4803157e38db4b6c6150b" title="See CAN_CTRLMODE.">can_ctrlmode_t</a>;
<a name="l00417"></a>00417 
<a name="l00422"></a><a class="code" href="group__rtcan.html#g8680f5710e1a13d553067cc32c86226b">00422</a> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#g8680f5710e1a13d553067cc32c86226b">CAN_STATE</a> {
<a name="l00424"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b7db2add3bd2ed5a01893a3d2a012ac67">00424</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b7db2add3bd2ed5a01893a3d2a012ac67" title="CAN controller is error active.">CAN_STATE_ACTIVE</a> = 0,
<a name="l00425"></a>00425 
<a name="l00427"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b8e8ffc38c3886c8ab4b7a6ebd24db2e1">00427</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b8e8ffc38c3886c8ab4b7a6ebd24db2e1" title="CAN controller is error active, warning level is reached.">CAN_STATE_BUS_WARNING</a>,
<a name="l00428"></a>00428 
<a name="l00430"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b16806979589ee8f20ee84c767903b667">00430</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b16806979589ee8f20ee84c767903b667" title="CAN controller is error passive.">CAN_STATE_BUS_PASSIVE</a>,
<a name="l00431"></a>00431 
<a name="l00433"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b679935a8710667fcb99423d217cd9959">00433</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b679935a8710667fcb99423d217cd9959" title="CAN controller went into Bus Off.">CAN_STATE_BUS_OFF</a>,
<a name="l00434"></a>00434 
<a name="l00436"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226bcc4b4039f38316b01662d775eeb981ff">00436</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226bcc4b4039f38316b01662d775eeb981ff" title="CAN controller is scanning to get the baudrate.">CAN_STATE_SCANNING_BAUDRATE</a>,
<a name="l00437"></a>00437 
<a name="l00439"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b644e7a441f2e607b93528d3128508cc8">00439</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b644e7a441f2e607b93528d3128508cc8" title="CAN controller is in stopped mode.">CAN_STATE_STOPPED</a>,
<a name="l00440"></a>00440 
<a name="l00442"></a><a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b2bb74d448dac491e9cfcc7f7bcc14857">00442</a>     <a class="code" href="group__rtcan.html#gg8680f5710e1a13d553067cc32c86226b2bb74d448dac491e9cfcc7f7bcc14857" title="CAN controller is in Sleep mode.">CAN_STATE_SLEEPING</a>,
<a name="l00443"></a>00443 };
<a name="l00447"></a><a class="code" href="group__rtcan.html#g046ddfab86ca47210233f254bc874c6d">00447</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__rtcan.html#g8680f5710e1a13d553067cc32c86226b">CAN_STATE</a> <a class="code" href="group__rtcan.html#g046ddfab86ca47210233f254bc874c6d" title="See CAN_STATE.">can_state_t</a>;
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="preprocessor">#define CAN_STATE_OPERATING(state) ((state) &lt; CAN_STATE_BUS_OFF)</span>
<a name="l00450"></a>00450 <span class="preprocessor"></span>
<a name="l00470"></a><a class="code" href="structcan__filter__t.html">00470</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>can_filter {
<a name="l00471"></a>00471 
<a name="l00473"></a><a class="code" href="structcan__filter__t.html#37c1aecd72bc85215f1fec005c041c1a">00473</a>     uint32_t    can_id;
<a name="l00474"></a>00474 
<a name="l00477"></a><a class="code" href="structcan__filter__t.html#a7ddaed753fed4a677cdd36f08ddb09b">00477</a>     uint32_t    can_mask;
<a name="l00478"></a>00478 } <a class="code" href="structcan__filter__t.html" title="Filter for reception of CAN messages.">can_filter_t</a>;
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 
<a name="l00484"></a><a class="code" href="structsockaddr__can.html">00484</a> <span class="keyword">struct </span><a class="code" href="structsockaddr__can.html" title="Socket address structure for the CAN address family.">sockaddr_can</a> {
<a name="l00486"></a><a class="code" href="structsockaddr__can.html#e9d8c789193e516c282a707d5a118ebc">00486</a>     sa_family_t  <a class="code" href="structsockaddr__can.html#e9d8c789193e516c282a707d5a118ebc" title="CAN address family, must be AF_CAN.">can_family</a>;
<a name="l00488"></a><a class="code" href="structsockaddr__can.html#f1586f4d4c039a7941f07c0d746a73a7">00488</a>     <span class="keywordtype">int</span>          <a class="code" href="structsockaddr__can.html#f1586f4d4c039a7941f07c0d746a73a7" title="Interface index of CAN controller.">can_ifindex</a>;
<a name="l00489"></a>00489 };
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 
<a name="l00497"></a><a class="code" href="structcan__frame__t.html">00497</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>can_frame {
<a name="l00498"></a>00498 
<a name="l00503"></a><a class="code" href="structcan__frame__t.html#b0422ff2497e71a6e0f26a7556bd9f03">00503</a>     <a class="code" href="group__rtcan.html#gd4cb716102402e9be0b5919cd2dd6ead" title="Type of CAN id (see CAN_xxx_MASK and CAN_xxx_FLAG).">can_id_t</a>     can_id;
<a name="l00504"></a>00504 
<a name="l00506"></a><a class="code" href="structcan__frame__t.html#367f5cac7052bde3358225bd8bff6538">00506</a>     uint8_t      can_dlc;
<a name="l00507"></a>00507 
<a name="l00509"></a>00509     uint8_t      data[8] __attribute__ ((aligned(8)));
<a name="l00510"></a>00510 } <a class="code" href="structcan__frame__t.html" title="Raw CAN frame.">can_frame_t</a>;
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 
<a name="l00518"></a><a class="code" href="group__rtcan.html#ge06ad16f505d1ec6c1e55d82ac82ef89">00518</a> <span class="preprocessor">#define RTCAN_TAKE_NO_TIMESTAMPS    0   </span>
<a name="l00519"></a><a class="code" href="group__rtcan.html#ge39894e7e6d107d4bab150cc0ef993c8">00519</a> <span class="preprocessor">#define RTCAN_TAKE_TIMESTAMPS       1   </span>
<a name="l00523"></a>00523 <span class="preprocessor">#define RTIOC_TYPE_CAN              RTDM_CLASS_CAN</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>
<a name="l00525"></a>00525 
<a name="l00564"></a><a class="code" href="group__rtcan.html#g87313c6e632294aa4582899a3bbc89e4">00564</a> <span class="preprocessor">#define CAN_RAW_FILTER      0x1</span>
<a name="l00565"></a>00565 <span class="preprocessor"></span>
<a name="l00594"></a><a class="code" href="group__rtcan.html#g451ba35aa4d0bef48cb7b0416f5b4367">00594</a> <span class="preprocessor">#define CAN_RAW_ERR_FILTER  0x2</span>
<a name="l00595"></a>00595 <span class="preprocessor"></span>
<a name="l00622"></a><a class="code" href="group__rtcan.html#ga7eb7dc3aa940a0aca20d3a564a147d9">00622</a> <span class="preprocessor">#define CAN_RAW_LOOPBACK     0x3</span>
<a name="l00623"></a><a class="code" href="group__rtcan.html#ga8aa773ff7721010e48129847af2c843">00623</a> <span class="preprocessor"></span><span class="preprocessor">#define CAN_RAW_TX_LOOPBACK  CAN_RAW_LOOPBACK </span><span class="comment">/* for backward-compatibility */</span>
<a name="l00624"></a>00624 
<a name="l00631"></a><a class="code" href="group__rtcan.html#g712942ca3d0d621184fb2019a24677c3">00631</a> <span class="preprocessor">#define CAN_RAW_RECV_OWN_MSGS   0x4</span>
<a name="l00632"></a>00632 <span class="preprocessor"></span>
<a name="l00665"></a>00665 <span class="preprocessor">#ifndef SIOCGIFINDEX</span>
<a name="l00666"></a><a class="code" href="group__rtcan.html#gee74ae50c8ea0a6aee277c6f124a3866">00666</a> <span class="preprocessor"></span><span class="preprocessor">#define SIOCGIFINDEX \</span>
<a name="l00667"></a>00667 <span class="preprocessor">            _IOWR(RTIOC_TYPE_CAN, 0x00, struct ifreq)</span>
<a name="l00668"></a>00668 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00669"></a>00669 <span class="preprocessor"></span>
<a name="l00704"></a><a class="code" href="group__rtcan.html#g7c070037c218b40de849ebf4d299f977">00704</a> <span class="preprocessor">#define SIOCSCANBAUDRATE \</span>
<a name="l00705"></a>00705 <span class="preprocessor">            _IOW(RTIOC_TYPE_CAN, 0x01, struct ifreq)</span>
<a name="l00706"></a>00706 <span class="preprocessor"></span>
<a name="l00732"></a><a class="code" href="group__rtcan.html#g9a3032f07b3a6a2f92eb2ba25a4ff8bf">00732</a> <span class="preprocessor">#define SIOCGCANBAUDRATE \</span>
<a name="l00733"></a>00733 <span class="preprocessor">            _IOWR(RTIOC_TYPE_CAN, 0x02, struct ifreq)</span>
<a name="l00734"></a>00734 <span class="preprocessor"></span>
<a name="l00767"></a><a class="code" href="group__rtcan.html#g4e9547dcb608fd0b8d5cf57f926e5176">00767</a> <span class="preprocessor">#define SIOCSCANCUSTOMBITTIME \</span>
<a name="l00768"></a>00768 <span class="preprocessor">            _IOW(RTIOC_TYPE_CAN, 0x03, struct ifreq)</span>
<a name="l00769"></a>00769 <span class="preprocessor"></span>
<a name="l00795"></a><a class="code" href="group__rtcan.html#gb92b51127ca47c491069b9f3e5013a7f">00795</a> <span class="preprocessor">#define SIOCGCANCUSTOMBITTIME \</span>
<a name="l00796"></a>00796 <span class="preprocessor">            _IOWR(RTIOC_TYPE_CAN, 0x04, struct ifreq)</span>
<a name="l00797"></a>00797 <span class="preprocessor"></span>
<a name="l00798"></a>00798 
<a name="l00840"></a><a class="code" href="group__rtcan.html#g72b56a34fe466bca858b1f5f401e1076">00840</a> <span class="preprocessor">#define SIOCSCANMODE \</span>
<a name="l00841"></a>00841 <span class="preprocessor">            _IOW(RTIOC_TYPE_CAN, 0x05, struct ifreq)</span>
<a name="l00842"></a>00842 <span class="preprocessor"></span>
<a name="l00875"></a><a class="code" href="group__rtcan.html#g5b5f750db08d56f40489679f22236ef4">00875</a> <span class="preprocessor">#define SIOCGCANSTATE           \</span>
<a name="l00876"></a>00876 <span class="preprocessor">            _IOWR(RTIOC_TYPE_CAN, 0x06, struct ifreq)</span>
<a name="l00877"></a>00877 <span class="preprocessor"></span>
<a name="l00878"></a>00878 
<a name="l00911"></a><a class="code" href="group__rtcan.html#g26fa69d2cded6e172b96b4a6dc3798df">00911</a> <span class="preprocessor">#define SIOCSCANCTRLMODE \</span>
<a name="l00912"></a>00912 <span class="preprocessor">            _IOW(RTIOC_TYPE_CAN, 0x07, struct ifreq)</span>
<a name="l00913"></a>00913 <span class="preprocessor"></span>
<a name="l00940"></a><a class="code" href="group__rtcan.html#ga78d64e69ffd68a20f93a6aa64393d6a">00940</a> <span class="preprocessor">#define SIOCGCANCTRLMODE        \</span>
<a name="l00941"></a>00941 <span class="preprocessor">            _IOWR(RTIOC_TYPE_CAN, 0x08, struct ifreq)</span>
<a name="l00942"></a>00942 <span class="preprocessor"></span>
<a name="l00968"></a><a class="code" href="group__rtcan.html#gedd7bd75a1983735052fed62e101e5ce">00968</a> <span class="preprocessor">#define RTCAN_RTIOC_TAKE_TIMESTAMP      _IOW(RTIOC_TYPE_CAN, 0x09, int)</span>
<a name="l00969"></a>00969 <span class="preprocessor"></span>
<a name="l01001"></a><a class="code" href="group__rtcan.html#gd8af08ea3624e8e9c464ff143fcb66c0">01001</a> <span class="preprocessor">#define RTCAN_RTIOC_RCV_TIMEOUT     _IOW(RTIOC_TYPE_CAN, 0x0A, nanosecs_rel_t)</span>
<a name="l01002"></a>01002 <span class="preprocessor"></span>
<a name="l01034"></a><a class="code" href="group__rtcan.html#gd3758528585b2779e8949df671f1cf6c">01034</a> <span class="preprocessor">#define RTCAN_RTIOC_SND_TIMEOUT     _IOW(RTIOC_TYPE_CAN, 0x0B, nanosecs_rel_t)</span>
<a name="l01035"></a>01035 <span class="preprocessor"></span>
<a name="l01037"></a>01037 <span class="preprocessor">#define CAN_ERR_DLC 8 </span><span class="comment">/* dlc for error frames */</span>
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 
<a name="l01047"></a><a class="code" href="group__rtcan.html#g168d1c5d468bad5e52ccbd70c5f37986">01047</a> <span class="preprocessor">#define CAN_ERR_TX_TIMEOUT   0x00000001U</span>
<a name="l01048"></a>01048 <span class="preprocessor"></span>
<a name="l01050"></a><a class="code" href="group__rtcan.html#ga79a977211fe6534a627541f71373df0">01050</a> <span class="preprocessor">#define CAN_ERR_LOSTARB      0x00000002U</span>
<a name="l01051"></a>01051 <span class="preprocessor"></span>
<a name="l01053"></a><a class="code" href="group__rtcan.html#g8086092a2e40c1b0429caaad3b2c8675">01053</a> <span class="preprocessor">#define CAN_ERR_CRTL         0x00000004U</span>
<a name="l01054"></a>01054 <span class="preprocessor"></span>
<a name="l01057"></a><a class="code" href="group__rtcan.html#g0fdfaa2091c61c2db8caa7a51e8c0037">01057</a> <span class="preprocessor">#define CAN_ERR_PROT         0x00000008U</span>
<a name="l01058"></a>01058 <span class="preprocessor"></span>
<a name="l01060"></a><a class="code" href="group__rtcan.html#gf0026f916a985610cc449ffa6a31445f">01060</a> <span class="preprocessor">#define CAN_ERR_TRX          0x00000010U</span>
<a name="l01061"></a>01061 <span class="preprocessor"></span>
<a name="l01063"></a><a class="code" href="group__rtcan.html#gdbe83f5e81c1c8c767daaf97c5849017">01063</a> <span class="preprocessor">#define CAN_ERR_ACK          0x00000020U</span>
<a name="l01064"></a>01064 <span class="preprocessor"></span>
<a name="l01066"></a><a class="code" href="group__rtcan.html#g8b0903e35c75de100b97a7b3e368b269">01066</a> <span class="preprocessor">#define CAN_ERR_BUSOFF       0x00000040U</span>
<a name="l01067"></a>01067 <span class="preprocessor"></span>
<a name="l01069"></a><a class="code" href="group__rtcan.html#g0b068b1221129441b89967ee2ddb9f44">01069</a> <span class="preprocessor">#define CAN_ERR_BUSERROR     0x00000080U </span>
<a name="l01070"></a>01070 <span class="preprocessor"></span>
<a name="l01072"></a><a class="code" href="group__rtcan.html#g54583090d19940d761a224bc0801ec6a">01072</a> <span class="preprocessor">#define CAN_ERR_RESTARTED    0x00000100U</span>
<a name="l01073"></a>01073 <span class="preprocessor"></span>
<a name="l01075"></a><a class="code" href="group__rtcan.html#gd4061a08b8c5aa6de3bb390efd3b6bd6">01075</a> <span class="preprocessor">#define CAN_ERR_MASK         0x1FFFFFFFU</span>
<a name="l01076"></a>01076 <span class="preprocessor"></span> 
<a name="l01083"></a>01083 <span class="comment">/* arbitration lost in bit ... / data[0] */</span>
<a name="l01084"></a><a class="code" href="group__rtcan.html#g7fa1bc55bccfadf780c0556c7d4d7fef">01084</a> <span class="preprocessor">#define CAN_ERR_LOSTARB_UNSPEC   0x00 </span>
<a name="l01092"></a>01092 <span class="preprocessor"></span><span class="comment">/* error status of CAN-controller / data[1] */</span>
<a name="l01093"></a><a class="code" href="group__rtcan.html#gfcdc17774047f27e70f3c39f6fb66076">01093</a> <span class="preprocessor">#define CAN_ERR_CRTL_UNSPEC      0x00 </span>
<a name="l01094"></a><a class="code" href="group__rtcan.html#g23d6f05d55b62fffdbd0a50969bc2d04">01094</a> <span class="preprocessor">#define CAN_ERR_CRTL_RX_OVERFLOW 0x01 </span>
<a name="l01095"></a><a class="code" href="group__rtcan.html#gb1412f1e2cc4f23334ed5ea766d12006">01095</a> <span class="preprocessor">#define CAN_ERR_CRTL_TX_OVERFLOW 0x02 </span>
<a name="l01096"></a><a class="code" href="group__rtcan.html#ge93958bbabe5e2e6d328d8fa5d491a96">01096</a> <span class="preprocessor">#define CAN_ERR_CRTL_RX_WARNING  0x04 </span>
<a name="l01097"></a><a class="code" href="group__rtcan.html#gb46d1dddb458203ca07e0c351275c549">01097</a> <span class="preprocessor">#define CAN_ERR_CRTL_TX_WARNING  0x08 </span>
<a name="l01098"></a><a class="code" href="group__rtcan.html#g853db0a1bf833caea89e3597a0123c11">01098</a> <span class="preprocessor">#define CAN_ERR_CRTL_RX_PASSIVE  0x10 </span>
<a name="l01099"></a><a class="code" href="group__rtcan.html#g29185de9d3b35414a729af6e0fad6574">01099</a> <span class="preprocessor">#define CAN_ERR_CRTL_TX_PASSIVE  0x20 </span>
<a name="l01107"></a>01107 <span class="preprocessor"></span><span class="comment">/* error in CAN protocol (type) / data[2] */</span>
<a name="l01108"></a><a class="code" href="group__rtcan.html#g6cf7ee3a3d83315ed2589bb3bdb816b3">01108</a> <span class="preprocessor">#define CAN_ERR_PROT_UNSPEC      0x00 </span>
<a name="l01109"></a><a class="code" href="group__rtcan.html#g0443c62a7e861f429f51c7bb6dc4ee23">01109</a> <span class="preprocessor">#define CAN_ERR_PROT_BIT         0x01 </span>
<a name="l01110"></a><a class="code" href="group__rtcan.html#ge8f76071caf3ac10abb88be4347b9625">01110</a> <span class="preprocessor">#define CAN_ERR_PROT_FORM        0x02 </span>
<a name="l01111"></a><a class="code" href="group__rtcan.html#g31af2ea01de879fb1d153cb6c0d642f8">01111</a> <span class="preprocessor">#define CAN_ERR_PROT_STUFF       0x04 </span>
<a name="l01112"></a><a class="code" href="group__rtcan.html#g1b469132ce858c4a0222e367b986343a">01112</a> <span class="preprocessor">#define CAN_ERR_PROT_BIT0        0x08 </span>
<a name="l01113"></a><a class="code" href="group__rtcan.html#g13e44854f6873a4a08ba2c9de0544471">01113</a> <span class="preprocessor">#define CAN_ERR_PROT_BIT1        0x10 </span>
<a name="l01114"></a><a class="code" href="group__rtcan.html#g0c02b06cad0d95b340c1b6294a5f9f9f">01114</a> <span class="preprocessor">#define CAN_ERR_PROT_OVERLOAD    0x20 </span>
<a name="l01115"></a><a class="code" href="group__rtcan.html#g460ee0be98290e6916f85c8651d6de05">01115</a> <span class="preprocessor">#define CAN_ERR_PROT_ACTIVE      0x40 </span>
<a name="l01116"></a><a class="code" href="group__rtcan.html#gbee807ce2e8ccf6eafc9b6f73a9315fb">01116</a> <span class="preprocessor">#define CAN_ERR_PROT_TX          0x80 </span>
<a name="l01123"></a>01123 <span class="preprocessor"></span><span class="comment">/* error in CAN protocol (location) / data[3] */</span>
<a name="l01124"></a><a class="code" href="group__rtcan.html#g4ac83a947ca929b857af6352300ad6d8">01124</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_UNSPEC  0x00 </span>
<a name="l01125"></a><a class="code" href="group__rtcan.html#ga7a2392801977b667a4d39083d0c92c3">01125</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_SOF     0x03 </span>
<a name="l01126"></a><a class="code" href="group__rtcan.html#g0592a90c8dba2c8102479e184dcd6c62">01126</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ID28_21 0x02 </span>
<a name="l01127"></a><a class="code" href="group__rtcan.html#g240923d7f939dd08d2e4f434468e3006">01127</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ID20_18 0x06 </span>
<a name="l01128"></a><a class="code" href="group__rtcan.html#gd70fa4d644d5b71f8891de051643226a">01128</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_SRTR    0x04 </span>
<a name="l01129"></a><a class="code" href="group__rtcan.html#g4fe7a2839d2ca31e8dd383564b1865c1">01129</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_IDE     0x05 </span>
<a name="l01130"></a><a class="code" href="group__rtcan.html#gbb436ab756394e8844a3925edd92b95c">01130</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ID17_13 0x07 </span>
<a name="l01131"></a><a class="code" href="group__rtcan.html#gfd6cd3681ebf245896d282daabdac0b7">01131</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ID12_05 0x0F </span>
<a name="l01132"></a><a class="code" href="group__rtcan.html#g00bc04bfcae8d6486aa149cd19dd6102">01132</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ID04_00 0x0E </span>
<a name="l01133"></a><a class="code" href="group__rtcan.html#g79567d5df1287ccdd1966d092b5e047c">01133</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_RTR     0x0C </span>
<a name="l01134"></a><a class="code" href="group__rtcan.html#g13aa190099e1600314bb8e46e0a693ce">01134</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_RES1    0x0D </span>
<a name="l01135"></a><a class="code" href="group__rtcan.html#gfe744ebfd9a71b557d3059bc3f8aee56">01135</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_RES0    0x09 </span>
<a name="l01136"></a><a class="code" href="group__rtcan.html#g2aa0ab15f3f4fc974653ff556688046a">01136</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_DLC     0x0B </span>
<a name="l01137"></a><a class="code" href="group__rtcan.html#g1877b10333d3805f2ea1ef9195a8dee1">01137</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_DATA    0x0A </span>
<a name="l01138"></a><a class="code" href="group__rtcan.html#g1e56b5931c70b6ecf21a3b7d9ceebe16">01138</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_CRC_SEQ 0x08 </span>
<a name="l01139"></a><a class="code" href="group__rtcan.html#g893a0c29cb622265c5d22ba7f26575a2">01139</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_CRC_DEL 0x18 </span>
<a name="l01140"></a><a class="code" href="group__rtcan.html#g14988a58a4514b44061ab5b942c6bbdf">01140</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ACK     0x19 </span>
<a name="l01141"></a><a class="code" href="group__rtcan.html#g8e928e081ef83a83c2885259fc0a6002">01141</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_ACK_DEL 0x1B </span>
<a name="l01142"></a><a class="code" href="group__rtcan.html#g811713c9831116e6e6c42631fb7d287a">01142</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_EOF     0x1A </span>
<a name="l01143"></a><a class="code" href="group__rtcan.html#gc52eb448c0ec04421f0e21ccf9a496a0">01143</a> <span class="preprocessor">#define CAN_ERR_PROT_LOC_INTERM  0x12 </span>
<a name="l01150"></a>01150 <span class="preprocessor"></span><span class="comment">/* error status of CAN-transceiver / data[4] */</span>
<a name="l01151"></a>01151 <span class="comment">/*                                               CANH CANL */</span>
<a name="l01152"></a><a class="code" href="group__rtcan.html#g2169eab29b3c954598fe6780d98b479a">01152</a> <span class="preprocessor">#define CAN_ERR_TRX_UNSPEC             0x00 </span>
<a name="l01153"></a><a class="code" href="group__rtcan.html#gc39d4c89032cba5c08981182e297c7d7">01153</a> <span class="preprocessor">#define CAN_ERR_TRX_CANH_NO_WIRE       0x04 </span>
<a name="l01154"></a><a class="code" href="group__rtcan.html#g294393d4f39d4476d0c57876c3504a98">01154</a> <span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_BAT  0x05 </span>
<a name="l01155"></a><a class="code" href="group__rtcan.html#g85ab738e9c73d380f96371f195aa41ab">01155</a> <span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_VCC  0x06 </span>
<a name="l01156"></a><a class="code" href="group__rtcan.html#g325c4d192a7de24a61b8fcca1d434669">01156</a> <span class="preprocessor">#define CAN_ERR_TRX_CANH_SHORT_TO_GND  0x07 </span>
<a name="l01157"></a><a class="code" href="group__rtcan.html#g1ecc59939f560d7e018af307df03a370">01157</a> <span class="preprocessor">#define CAN_ERR_TRX_CANL_NO_WIRE       0x40 </span>
<a name="l01158"></a><a class="code" href="group__rtcan.html#gf4ec9ec512befde085f5a7701d0813fe">01158</a> <span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_BAT  0x50 </span>
<a name="l01159"></a><a class="code" href="group__rtcan.html#gce999081029fcd690f89c76aa8738122">01159</a> <span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_VCC  0x60 </span>
<a name="l01160"></a><a class="code" href="group__rtcan.html#g428b96738439b9df662a999f1a5f9ffd">01160</a> <span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_GND  0x70 </span>
<a name="l01161"></a><a class="code" href="group__rtcan.html#gaed57dcbd07a56050c8915fcd8bd5ba8">01161</a> <span class="preprocessor">#define CAN_ERR_TRX_CANL_SHORT_TO_CANH 0x80 </span>
<a name="l01164"></a>01164 <span class="preprocessor"></span><span class="comment">/* controller specific additional information / data[5..7] */</span>
<a name="l01165"></a>01165 
<a name="l01171"></a>01171 <span class="preprocessor">#endif </span><span class="comment">/* _RTCAN_H */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Sun Dec 9 10:37:17 2007 for Xenomai API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
